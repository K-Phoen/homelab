---
- name: Setup potato
  hosts: potato

  vars:
    docker_users: ["{{ homelab_user }}"]

  roles:
    - common
    - k3s_node
    - alloy_node
    - exit_node

- name: Setup carrot
  hosts: carrot

  vars:
    docker_users: ["{{ homelab_user }}"]

  roles:
    - common
    - k3s_control_plane
    - alloy_node
    - exit_node

- name: Setup bean
  hosts: bean

  vars:
    docker_users: ["{{ homelab_user }}"]
    blocky_enabled: true

  roles:
    - common
    - k3s_node
    - alloy_node
    - exit_node
    - dns_server
